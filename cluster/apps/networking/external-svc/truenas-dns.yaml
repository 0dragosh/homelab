---
apiVersion: externaldns.k8s.io/v1alpha1
kind: DNSEndpoint
metadata:
  name: truenas-s3
  namespace: networking
spec:
  endpoints:
    - dnsName: "s3.local.${SECRET_DOMAIN_CASA}"
      recordTTL: 180
      recordType: A
      targets:
        - "${TRUENAS_NGINX_ADDRESS}"
      providerSpecific:
        - name: external-dns.alpha.kubernetes.io/cloudflare-proxied
          value: 'false'
---
apiVersion: externaldns.k8s.io/v1alpha1
kind: DNSEndpoint
metadata:
  name: truenas-minio
  namespace: networking
spec:
  endpoints:
    - dnsName: "minio.local.${SECRET_DOMAIN_CASA}"
      recordTTL: 180
      recordType: A
      targets:
        - "${TRUENAS_NGINX_ADDRESS}"
      providerSpecific:
        - name: external-dns.alpha.kubernetes.io/cloudflare-proxied
          value: 'false'
---
apiVersion: externaldns.k8s.io/v1alpha1
kind: DNSEndpoint
metadata:
  name: truenas-resilio
  namespace: networking
spec:
  endpoints:
    - dnsName: "resilio.local.${SECRET_DOMAIN_CASA}"
      recordTTL: 180
      recordType: A
      targets:
        - "${TRUENAS_NGINX_ADDRESS}"
      providerSpecific:
        - name: external-dns.alpha.kubernetes.io/cloudflare-proxied
          value: 'false'
