---
apiVersion: externaldns.k8s.io/v1alpha1
kind: DNSEndpoint
metadata:
  name: truenas-s3
  namespace: networking
  annotations:
    external-dns.alpha.kubernetes.io/cloudflare-proxied: "false"
spec:
  endpoints:
    - dnsName: "s3.local.${SECRET_DOMAIN_CASA}"
      recordTTL: 180
      recordType: A
      targets:
        - "${TRUENAS_NGINX_ADDRESS}"
---
apiVersion: externaldns.k8s.io/v1alpha1
kind: DNSEndpoint
metadata:
  name: truenas-minio
  namespace: networking
  annotations:
    external-dns.alpha.kubernetes.io/cloudflare-proxied: "false"
spec:
  endpoints:
    - dnsName: "minio.local.${SECRET_DOMAIN_CASA}"
      recordTTL: 180
      recordType: A
      targets:
        - "${TRUENAS_NGINX_ADDRESS}"
