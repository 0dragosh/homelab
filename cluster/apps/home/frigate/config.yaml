---
mqtt:
  host: mosquitto
  topic_prefix: frigate
  user: "${MQTT_USER}"
  password: "${MQTT_PASSWORD}"

snapshots:
  enabled: True
  bounding_box: true
  retain:
    default: 7

record:
  enabled: True
  retain:
    days: 30

cameras:
  int:
    ffmpeg:
      hwaccel_args:
        - -hwaccel
        - qsv
        - -qsv_device
        - /dev/dri/renderD128
      global_args: -hide_banner -loglevel info
      output_args:
        record: -f segment -segment_time 60 -segment_format mp4 -reset_timestamps 1 -strftime 1 -c copy #removed -an parameter to enable audio
      input_args:
        - -avoid_negative_ts
        - make_zero
      inputs:
        - path: rtsp://${CAM2_USER}:${CAM2_PASSWORD}@${CAM2_IP}:554
          roles:
            - record
            - rtmp
        - path: rtsp://${CAM2_USER}:${CAM2_PASSWORD}@${CAM2_IP}:554/h264Preview_01_sub
          roles:
            - detect
    detect:
      width: 1280
      height: 720
      fps: 5
  lat:
    ffmpeg:
      hwaccel_args:
        - -hwaccel
        - qsv
        - -qsv_device
        - /dev/dri/renderD128
      input_args:
        - -avoid_negative_ts
        - make_zero
      global_args: -hide_banner -loglevel info
      output_args:
        record: -f segment -segment_time 60 -segment_format mp4 -reset_timestamps 1 -strftime 1 -c copy #removed -an parameter to enable audio
      inputs:
        - path: rtsp://${CAM1_USER}:${CAM1_PASSWORD}@${CAM1_IP}:554
          roles:
            - record
            - rtmp
        - path: rtsp://${CAM1_USER}:${CAM1_PASSWORD}@${CAM1_IP}:554/h264Preview_01_sub
          roles:
            - detect
    detect:
      width: 1280
      height: 720
      fps: 5
  back:
    ffmpeg:
      hwaccel_args:
        - -hwaccel
        - qsv
        - -qsv_device
        - /dev/dri/renderD128
      input_args:
        - -avoid_negative_ts
        - make_zero
      global_args: -hide_banner -loglevel info
      output_args:
        record: -f segment -segment_time 60 -segment_format mp4 -reset_timestamps 1 -strftime 1 -c copy #removed -an parameter to enable audio
      inputs:
        - path: rtsp://${CAM3_USER}:${CAM3_PASSWORD}@${CAM3_IP}:554
          roles:
            - record
            - rtmp
        - path: rtsp://${CAM3_USER}:${CAM3_PASSWORD}@${CAM3_IP}:554/h264Preview_01_sub
          roles:
            - detect
    detect:
      width: 1280
      height: 720
      fps: 5
  lat2:
    ffmpeg:
      hwaccel_args:
        - -hwaccel
        - qsv
        - -qsv_device
        - /dev/dri/renderD128
      input_args:
        - -avoid_negative_ts
        - make_zero
      global_args: -hide_banner -loglevel info
      output_args:
        record: -f segment -segment_time 60 -segment_format mp4 -reset_timestamps 1 -strftime 1 -c copy #removed -an parameter to enable audio
      inputs:
        - path: rtsp://${CAM4_USER}:${CAM4_PASSWORD}@${CAM4_IP}:554
          roles:
            - record
            - rtmp
        - path: rtsp://${CAM4_USER}:${CAM4_PASSWORD}@${CAM4_IP}:554/h264Preview_01_sub
          roles:
            - detect
    detect:
      width: 1280
      height: 720
      fps: 5
