---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: test
  namespace: default
spec:
  storageClassName: ceph-block
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 100Mi
---
# https://kubernetes.io/docs/concepts/workloads/pods/
apiVersion: v1
kind: Pod
metadata:
  name: test
  namespace: default
spec:
  nodeSelector:
    kubernetes.io/hostname: homelab-talos-0-worker-0
  containers:
    - name: myapp
      image: "ubuntu"
      securityContext:
        privileged: true
      args:
        - "sleep"
        - "99999999999"
      volumeMounts:
#        - name: rook
#          mountPath: /rook
        - name: test
          mountPath: /test
  volumes:
#    - name: rook
#      hostPath:
#        path: /var/lib/rook
    - name: test
      persistentVolumeClaim:
        claimName: test
  restartPolicy: Always
---
